# Allowlist for forbidden terms
#
# Add file paths here to exempt them from forbidden terms check.
# One path per line, relative to repo root.
# Supports glob patterns.
#
# Example:
#   internal/legacy/user_migration.go
#   pkg/compat/*.go
#
# WARNING: Adding entries here weakens Canon enforcement.
# Each exception should be justified and temporary.
#

# External OAuth API integrations (v5)
# These files interface with Google/Microsoft APIs which use external terminology.
# The terms are in URL literals or external API documentation comments.
# QuantumLife core still uses "circle" - these are data plane adapters only.
internal/connectors/auth/config.go
internal/connectors/auth/interface.go
internal/connectors/calendar/types.go
internal/connectors/testkit/fake_transport.go

# Financial Read (v8)
# These files handle financial data where "account" means "bank account" or
# "financial account", NOT "user account". The financial domain requires this
# terminology to match banking/payment industry standards and provider APIs.
# QuantumLife core still uses "circle" for identity - these are data plane adapters.
internal/connectors/finance/read/*.go
internal/connectors/finance/read/providers/mock/*.go
internal/connectors/finance/read/providers/truelayer/*.go
internal/finance/*.go
internal/finance/impl_inmem/*.go
internal/finance/categorize/*.go
internal/finance/propose/*.go
internal/finance/visibility/*.go
internal/demo_finance_read/*.go
pkg/primitives/finance/*.go
# CLI uses "Accounts" to display financial account count in demo output
cmd/quantumlife-cli/main.go
# Intersection types include FinancialVisibilityPolicy with bank account filtering
internal/intersection/types.go
# Auth scope mapper includes TrueLayer "accounts" scope mapping (v8.2)
internal/connectors/auth/impl_inmem/scope_map.go
# Conformance tests verify financial read behavior with "accounts" terminology
internal/connectors/conformance/finance_readonly_test.go
# v8.6 Family Financial Intersections
# These files use "account" for bank/financial account filtering in shared views.
# QuantumLife core uses "circle" for identity - these are financial data adapters.
internal/demo_family/family_finance.go
internal/finance/sharedview/*.go
internal/finance/neutrality/*.go
pkg/events/events.go

# Financial Write/Execution (v9.3)
# These files interface with TrueLayer Payments API which uses external terminology
# ("user", "account"). QuantumLife core uses "circle" for identity - these are
# payment provider adapters that must match external API specifications.
internal/connectors/finance/write/*.go
internal/connectors/finance/write/providers/truelayer/*.go
# Mock connector uses "user-initiated abort" which is acceptable audit language
internal/demo_v9_execute/mock_connector.go
# v9.6 demo uses "test-user" as a test fixture identifier in revocation test
internal/demo_v96_idempotency/demo_test.go

# Identity Graph and Read-Only Mirror (v1)
# These files use "account" for email/calendar/financial accounts, NOT "user account".
# The domain requires this terminology to match industry standards.
# QuantumLife core uses "circle" for identity - these are data plane components.
pkg/domain/identity/*.go
pkg/domain/events/*.go
internal/ingestion/*.go
internal/integrations/finance_read/*.go
internal/integrations/gcal_read/*.go
internal/integrations/gmail_read/*.go
internal/demo_readonly_mirror/*.go

# v9.11+ demos use ViewSnapshot.Accounts for financial account visibility
internal/demo_v911_caps/*.go
internal/demo_v913_view_freshness/*.go

# Phase 2: Obligation Extraction (ADR-0019)
# These files use "user" in email addresses (e.g., user@work.com) which is external
# data, NOT QuantumLife identity. Also uses "account balance" for financial context.
# QuantumLife core uses "circle" for identity - these are data plane components.
internal/demo_phase2_obligations/*.go
internal/obligations/*.go
pkg/domain/obligation/*.go
pkg/domain/view/*.go

# Phase 3: Interruption Engine (ADR-0020)
# These files use "user" in comments about surfacing interruptions and "account"
# for financial account balance context. QuantumLife core uses "circle" for identity.
internal/demo_phase3_interruptions/*.go
internal/interruptions/*.go
internal/digest/*.go
pkg/domain/interrupt/*.go

# Memory interfaces use "user" for describing memory access patterns
pkg/domain/memory/*.go

# Phase 3.1: Digest Rollup (ADR-0020)
# Uses "Account low" as test data for financial balance scenarios.
pkg/domain/digestrollup/*.go

# Phase 4: Drafts-Only Assistance (ADR-0021)
# These files use "user approval" to describe the human-in-the-loop requirement
# for drafts. This is domain terminology for the review/approve workflow.
# QuantumLife core uses "circle" for identity - these describe the control flow.
pkg/domain/draft/*.go
internal/drafts/*.go
internal/drafts/email/*.go
internal/drafts/calendar/*.go
internal/drafts/review/*.go
internal/demo_phase4_drafts/*.go

# Phase 5: Calendar Execution Boundary (ADR-0022)
# These files interface with Google Calendar API which uses "user" terminology
# for attendee management and OAuth scopes. Also uses "user@example.com" in
# test email addresses. QuantumLife core uses "circle" for identity - these are
# calendar provider adapters that must match external API specifications.
internal/connectors/calendar/write/*.go
internal/connectors/calendar/write/providers/google/*.go
internal/connectors/calendar/write/providers/mock/*.go
internal/calendar/execution/*.go
internal/demo_phase5_calendar_execution/*.go

# Phase 6: The Quiet Loop (Web)
# The loop engine uses "account" for email account context in mock data.
internal/loop/engine.go

# Phase 7: Email Execution Boundary (ADR-0023)
# These files interface with Gmail API which uses "users" terminology
# (e.g., /users/me/messages/send) and use "account" for email account
# context. QuantumLife core uses "circle" for identity - these are
# email provider adapters that must match external API specifications.
internal/connectors/email/write/*.go
internal/connectors/email/write/providers/google/*.go
internal/connectors/email/write/providers/mock/*.go
internal/email/execution/*.go
internal/demo_phase7_email_execution/*.go

# Phase 11: Multi-Circle Real Data Quiet Loop (ADR-0026)
# These files use "account" for email/calendar/finance account context
# (e.g., email account, calendar account, bank account) NOT "user account".
# The multi-circle configuration requires this terminology to describe
# integrations with external providers. Also uses "user@example.com" in
# test email addresses. QuantumLife core uses "circle" for identity -
# these are configuration and routing components.
internal/config/*.go
internal/routing/*.go
internal/loop/multi_circle.go
internal/demo_phase11_multicircle/*.go

# Phase 13: Identity + Contact Graph Unification (ADR-0028)
# These files use "account" for email accounts (EmailAccount entity type),
# NOT "user account". The identity graph requires this terminology to model
# email ownership relationships. Also uses "role" for email participant roles
# (from, to, cc, attendee, organizer) which is standard email/calendar terminology.
# QuantumLife core uses "circle" for identity - these are identity resolution components.
internal/identityresolve/*.go
internal/persist/identity_store.go
internal/persist/persist_test.go
internal/demo_phase13_identity_graph/*.go

# Phase 13.1: Identity-Driven Routing + People UI (ADR-0029)
# Demo tests use "account" for email account context in identity graph tests.
# Also uses "role" for email participant roles (from, to, cc) which is standard
# email terminology. QuantumLife core uses "circle" for identity.
internal/demo_phase13_1_identity_routing_web/*.go

# Phase 14: Circle Policies + Preference Learning (ADR-0030)
# These files use "user" in comments about learning from explicit feedback signals.
# "User marked as unnecessary" describes human-in-the-loop feedback, NOT identity.
# QuantumLife core uses "circle" for identity - these describe the feedback workflow.
pkg/domain/suppress/types.go
internal/demo_phase14_policy_learning/*.go

# Phase 15: Household Approvals + Intersections (ADR-0031)
# These files use "role" for MemberRole (owner, spouse, parent, child, guardian)
# which is domain terminology for household member types in intersection policies.
# "account" appears in a comment explaining RoleOwner is "primary account holder".
# "user" is used in approvaltoken to describe "authorized user" of a token.
# QuantumLife core uses "circle" for identity - these are approval domain components.
pkg/domain/intersection/*.go
pkg/domain/approvalflow/*.go
pkg/domain/approvaltoken/*.go
internal/persist/approval_ledger*.go
internal/demo_phase15_household_approvals/*.go

# Phase 17: Finance Execution Boundary (ADR-0033)
# These files use "role" for MemberRole (from intersection package) in approval
# tests for household payment scenarios. Also uses "account" in "joint account"
# to describe shared family finances. QuantumLife core uses "circle" for identity -
# these are finance execution demo components testing household approvals.
internal/demo_phase17_finance_execution/*.go

# Phase 18: Product Language System (ADR-0034)
# Demo tests contain "workspace" in a list of FORBIDDEN terms that should NEVER
# substitute for "Circle". This is documenting the vocabulary contract, not using
# the term in code. Web templates use "identity-role" as a CSS class name for
# displaying email participant role in identity cards, and "accounts" in the
# empty state message "Identities will appear as you connect accounts" which
# refers to email/calendar/finance provider accounts, NOT user accounts.
# QuantumLife core uses "circle" for identity - these are UI/documentation components.
internal/demo_phase18_product_language/*.go
cmd/quantumlife-web/main.go

# Phase 18.2-18.7: Today Quietly, Held, Surface, Proof, Mirror
# These files use "user" in comments about user preferences and interactions
# (e.g., "user prefers quiet mode", "user actions on surfaced items").
# "account numbers" appears in the not-stored list for mirror proof.
# Demo tests document "forbidden patterns in user-facing content".
# QuantumLife core uses "circle" for identity - these describe the UI behavior.
pkg/domain/mirror/types.go
internal/surface/model.go
internal/surface/store.go
internal/surface/engine.go
internal/proof/model.go
internal/proof/engine.go
internal/mirror/engine.go
internal/demo_phase18_7_mirror/*.go

# Phase 18.9: Real Data Quiet Verification (ADR-0042)
# Demo tests use "user" to describe the human being protected from overwhelming
# notifications (e.g., "prevents overwhelming user"). QuantumLife core uses
# "circle" for identity - this describes the restraint behavior.
internal/demo_phase18_9_quiet_verification/*.go

# Phase 19.3: Azure OpenAI Shadow Provider (ADR-0044)
# These files interface with OpenAI Chat Completions API which uses "role" and
# "user" as part of its protocol specification (role: "system"|"user"|"assistant").
# This is external API terminology required for protocol compliance, NOT
# QuantumLife identity. QuantumLife core uses "circle" for identity - these are
# LLM provider adapters that must match external API specifications.
internal/shadowllm/providers/azureopenai/*.go
internal/shadowllm/prompt/*.go
internal/demo_phase19_3_azure_shadow/*.go

# Phase 19.5: Shadow Gating + Promotion Candidates (ADR-0046)
# Uses "user" in "user's intent to promote" which describes the human operator
# recording their intent to promote a shadow candidate to canon. This is domain
# terminology for the human-in-the-loop promotion workflow, NOT QuantumLife identity.
# Also uses "users" in comments about "users can propose promotion".
pkg/domain/shadowgate/types.go

# Phase 19.6: Rule Pack Export (ADR-0047)
# Test uses "user@example.com" in a test fixture for pack email serialization.
# This is test data, NOT QuantumLife identity.
pkg/domain/rulepack/types_test.go

# Phase 20: Trust Accrual Layer (ADR-0048)
# Uses "user" in "user dismissed a trust summary" which describes the human
# interacting with the UI to dismiss a trust summary. This is domain terminology
# for the trust dismissal workflow, NOT QuantumLife identity.
pkg/domain/trust/types.go

# Phase 19.3b: Go Real Azure + Embeddings (ADR-0049)
# These files use "user" in comments about safety invariants (e.g., "never user data")
# to describe that embeddings must ONLY use safe constant input, NOT arbitrary user
# content. This is security documentation, NOT QuantumLife identity terminology.
internal/demo_phase19_3b_go_real/*.go
internal/shadowllm/engine.go

# Phase 19.3c: Real Azure Chat Shadow Run (ADR-0050)
# Uses "user" and "role" for LLM API message roles (system/user) which are standard
# OpenAI/Azure Chat Completions API terminology. The "user" variable holds the rendered
# user prompt, and "Role" is the message role field. These are NOT QuantumLife identity.
internal/demo_phase19_3c_real_chat_shadow/demo_test.go
internal/shadowllm/providers/azureopenai/types.go

# Phase 27: Real Shadow Receipt (Primary Proof) (ADR-0058)
# Uses "user" in comments to describe the human being protected from interruptions
# (e.g., "why this didn't interrupt the user", "user's vote on restraint usefulness").
# This is domain terminology for describing human-in-the-loop feedback workflows
# and restraint mechanisms, NOT QuantumLife identity.
pkg/domain/shadowview/types.go
internal/shadowview/engine.go

# Phase 29: TrueLayer Read-Only Connect + Finance Mirror Proof (ADR-0060)
# These files use "account" for bank/financial accounts (TrueLayer terminology),
# NOT "user account". The finance mirror domain requires this terminology to match
# banking industry standards and TrueLayer API specifications. Also uses "accounts"
# as an OAuth scope name which is required by the TrueLayer API.
# QuantumLife core uses "circle" for identity - these are financial data adapters.
pkg/domain/financemirror/types.go
pkg/domain/storelog/log.go
internal/financemirror/engine.go
internal/oauth/truelayer.go
internal/persist/financemirror_store.go
internal/demo_phase29_truelayer_finance_mirror/*.go
